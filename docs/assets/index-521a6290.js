import{r as b,d as v,a as h,c as u,u as m,b as E,o as c,e as a,f as g,g as R,t as p,h as N,F as V,i as O,j as y,k as S,l as j,m as A,n as B,p as P}from"./vendor-49e97ae7.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function e(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerpolicy&&(n.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?n.credentials="include":t.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(t){if(t.ep)return;t.ep=!0;const n=e(t);fetch(t.href,n)}})();var x=(o=>(o.vf="vf",o.vostfr="vostfr",o))(x||{});const _=b({vf:[],vostfr:[]}),Z=b({language:x.vostfr}),I={class:"bg-zinc-900 text-white min-h-screen px-10"},T={key:0,class:"w-screen h-screen grid justify-items-center items-center"},q=a("div",{class:"bg-red-900 bg-opacity-50 p-5 rounded"},[a("h1",null,[g("L'extension "),a("span",{class:"text-red-500"},"Allow CORS"),g(" est requise pour utiliser notre site web")])],-1),D=[q],F=v({__name:"App",setup(o){let s=h(!1);return fetch("https://neko-sama.fr/animes-search-vf.json").then(e=>e.json()).then(e=>{_.vf=e,s.value=!0}),s&&fetch("https://neko-sama.fr/animes-search-vostfr.json").then(e=>e.json()).then(e=>{_.vostfr=e}),(e,r)=>{const t=R("RouterView");return c(),u("main",I,[m(s)==!1?(c(),u("div",T,D)):(c(),E(t,{key:1}))])}}}),H="modulepreload",U=function(o){return"/"+o},k={},w=function(s,e,r){if(!e||e.length===0)return s();const t=document.getElementsByTagName("link");return Promise.all(e.map(n=>{if(n=U(n),n in k)return;k[n]=!0;const i=n.endsWith(".css"),$=i?'[rel="stylesheet"]':"";if(!!r)for(let d=t.length-1;d>=0;d--){const f=t[d];if(f.href===n&&(!i||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${n}"]${$}`))return;const l=document.createElement("link");if(l.rel=i?"stylesheet":H,i||(l.as="script",l.crossOrigin=""),l.href=n,document.head.appendChild(l),i)return new Promise((d,f)=>{l.addEventListener("load",d),l.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>s())},W=["src"],K={class:"mt-5 grid"},M={class:"text-lg font-bold whitespace-nowrap text-ellipsis overflow-hidden"},z=v({__name:"AnimeCardComponent",props:{anime:null},setup(o){const s=o;return(e,r)=>(c(),u("div",{class:"w-full",onClick:r[0]||(r[0]=t=>m(C).push("/anime/"+s.anime.id))},[a("img",{class:"w-full rounded object-cover aspect-[9/13]",src:s.anime.url_image,alt:""},null,8,W),a("div",K,[a("h5",M,p(s.anime.title),1),a("h6",null,p(s.anime.start_date_year)+" - "+p(s.anime.nb_eps),1)])]))}});function G(o,s){const e=[];for(let r=0;r<o.length;r+=s)e.push(o.slice(r,r+s));return e}const J={key:0,class:"grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-6 gap-10"},Q=v({__name:"HomeView",setup(o){let s=h([]),e=h(0);return N(()=>{let r=setInterval(()=>{s.value=G(_.vostfr,20)},100);s.value.length>0&&clearInterval(r)}),(r,t)=>m(s)?(c(),u("div",J,[(c(!0),u(V,null,O(m(s)[m(e)],n=>(c(),u("div",{key:n.id},[j(z,{anime:n},null,8,["anime"])]))),128)),a("button",{onClick:t[0]||(t[0]=n=>y(e)?e.value--:e--)},"prev"),a("button",{onClick:t[1]||(t[1]=n=>y(e)?e.value++:e++)},"next")])):S("",!0)}}),C=A({history:B("/"),routes:[{path:"/",name:"home",component:Q},{path:"/anime/:id",name:"anime",component:w(()=>import("./AnimeView-e5e253e6.js"),["assets/AnimeView-e5e253e6.js","assets/animehelper-a615122c.js","assets/vendor-49e97ae7.js"])},{path:"/anime/:id/episode/:episode",name:"episode",component:w(()=>import("./EpisodeView-18375f2e.js"),["assets/EpisodeView-18375f2e.js","assets/animehelper-a615122c.js","assets/vendor-49e97ae7.js"])}]});const L=P(F);L.use(C);L.mount("#app");export{_ as a,Z as l,C as r};
