import{c as b}from"./animehelper-da611cd9.js";import{a as w}from"./timer-a538d2fe.js";import{b as x,a as y}from"./index-ac61f2b8.js";import{r as k,o as a,c as l,b as t,a as v,w as z,t as c,d as C,f as E,n as R,u as h,F as V,q as j,i as D}from"./vendor-f41e0a6d.js";import{a as N}from"./storage-98e16ead.js";import"./removeDuplicates-4a376775.js";const A={props:{anime:Object,animeReal:Object},methods:{convertEpisodeToNumber:b,getDuration:w}},S={key:0},$={key:0,class:"bg-red-500 p-3 rounded absolute"},B={class:"w-full rounded object-cover aspect-[9/13]",alt:""},F={class:"mt-5 grid"},L={class:"text-lg font-bold whitespace-nowrap text-ellipsis overflow-hidden"},O={key:1},q=C('<div class="w-full animate-pulse grid gap-5"><div class="w-full rounded object-cover aspect-[9/13] bg-zinc-800"></div><div class="grid gap-2"><h1 class="bg-zinc-800 text-zinc-800">lorem ipsum sin dolores</h1><h1 class="bg-zinc-800 text-zinc-800 w-[40%]">l</h1></div></div>',1),H=[q];function T(r,o,e,d,i,s){var m,u,_;const n=k("lazy");return e.anime?(a(),l("div",S,[t("div",{class:"w-full",onClick:o[0]||(o[0]=Q=>{var g,f,p;return r.$router.push("/anime/"+((g=e.anime)==null?void 0:g.lang)+"/"+((f=e.animeReal)==null?void 0:f.id)+"/episode/"+((p=e.anime)==null?void 0:p.episode.toString()))})},[((m=e.anime)==null?void 0:m.lang)=="vf"?(a(),l("p",$,"VF")):v("",!0),z(t("img",B,null,512),[[n,{src:(u=e.animeReal)==null?void 0:u.url_image,loading:"/default_thumbnail.png"}]]),t("div",F,[t("h5",L,c((_=e.animeReal)==null?void 0:_.title),1),t("h6",null,"Episode "+c(e.anime.episode)+" - "+c(s.getDuration(e.anime.time)),1)])])])):(a(),l("div",O,H))}const G=x(A,[["render",T]]),I={key:0,class:"px-10"},J={class:"flex justify-between py-5"},K=t("h1",{class:"text-3xl font-bold"},"Acceuil",-1),M=[K],P={class:"grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-6 gap-10"},se=E({__name:"AnimeHistory",setup(r){let o=R();const e=N();console.log(e.length);let d=y.all.filter(i=>e.find(s=>s.id===i.id&&s.lang===i.lang));return console.log(d.length),o.value=d.map(i=>({animes:i,lastEpisodes:e.find(s=>s.id===i.id)})),(i,s)=>h(o)?(a(),l("section",I,[t("div",J,[t("div",{onClick:s[0]||(s[0]=n=>i.$router.push("/")),class:"cursor-pointer"},M)]),t("div",P,[(a(!0),l(V,null,j(h(o),n=>(a(),l("div",{key:n.lastEpisodes.id+n.lastEpisodes.lang},[D(G,{animeReal:n.animes,anime:n.lastEpisodes},null,8,["animeReal","anime"])]))),128))])])):v("",!0)}});export{se as default};
