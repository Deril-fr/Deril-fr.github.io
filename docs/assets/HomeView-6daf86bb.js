import{_,a as i,b as h,A as v}from"./index-55c41dd8.js";import{w as y,v as x,o as c,c as d,f as w,n as f,p as k,u,i as p,b as a,F as C,q,t as m,a as b}from"./vendor-f41e0a6d.js";function V(o){return o.filter((e,t)=>o.indexOf(e)===t)}const B={data(){return{query:""}},methods:{async search(){console.log("test");let o=this.query;if(await new Promise(function(s){setTimeout(function(){s(null)},500)}),o!==this.query)return;const e=(await _(()=>import("./fuse.esm-7d6937a9.js"),[])).default,r=new e(i.all,{keys:["title","title_english","title_romanji","genres","others","id"]}).search(this.query),n=V(r.map(s=>s.item));i.result=n.length>0?n:i.all}}};function D(o,e,t,r,n,s){return y((c(),d("input",{type:"text",onInput:e[0]||(e[0]=(...l)=>s.search&&s.search(...l)),"onUpdate:modelValue":e[1]||(e[1]=l=>n.query=l),placeholder:"rechercher un anime...",class:"w-full p-5 bg-zinc-800 rounded my-5 focus:outline-none"},null,544)),[[x,n.query]])}const P=h(B,[["render",D]]);function g(o,e){const t=[];for(let r=0;r<o.length;r+=e)t.push(o.slice(r,r+e));return t}const T={key:0,class:"px-10"},A={class:"grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-6 gap-10"},E={class:"flex justify-between py-5"},L=w({__name:"HomeView",setup(o){let e=f(g(i.result,30)),t=f(0);k(i,function(){e.value=g(i.result,30),console.log(i.result.filter(function(n){return n.title.includes("Hunter x Hunter")}))});function r(n){if(console.log(n),scrollTo(0,0),n==-1){t.value=e.value.length-1;return}if(n==e.value.length){t.value=0;return}t.value=n}return(n,s)=>u(e)?(c(),d("section",T,[p(P),a("div",A,[(c(!0),d(C,null,q(u(e).at(u(t)),l=>(c(),d("div",{key:l.id+l.lang},[p(v,{anime:l},null,8,["anime"])]))),128))]),a("div",E,[a("button",{onClick:s[0]||(s[0]=l=>r(u(t)-1))},"prev"),a("p",null,m(u(t)+1)+"/"+m(u(e).length),1),a("button",{onClick:s[1]||(s[1]=l=>r(u(t)+1))},"next")])])):b("",!0)}});export{L as default};
