import"./vendor-ca0e2a6b.js";async function v(s){var l,e,d,f,g;const u=await(await fetch(s)).text(),n=(l=/(else {\n(.*)video\[0] = ')(.*)(';)/gm.exec(u))==null?void 0:l[3],r=await(await fetch(n)).text();let t=(e=/(https:\/\/www\.pstream\.net\/u\/player-script.*)(" type)/gm.exec(r))==null?void 0:e[1],a="https://www.pstream.net";if(t||(t=(d=/(https:\/\/veestream\.net\/u\/player-script.*)(" type)/gm.exec(r))==null?void 0:d[1],a="https://veestream.net"),t||(t=(f=/(https:\/\/fusevideo\.net\/u\/player-script.*)(" type)/gm.exec(r))==null?void 0:f[1],a="https://fusevideo.net"),!t)return!1;const m=await(await fetch(t)).text(),p=(g=/e.parseJSON\(atob\(t\).slice\(2\)\)\}\(\"([^;]*)"\),/gm.exec(m))==null?void 0:g[1],i=JSON.parse(atob(p).slice(2)),c=i.mmmmmmmmmmmmmmmmmmmm,o=i.subtitlesvtt;return{uri:c,subtitles:o,baseurl:a}}function x(s){return new DOMParser().parseFromString(s,"text/html").body.textContent||""}function w(s){return Number(s.replace("Ep. ",""))}async function b(s){var c,o;const n=await(await fetch("https://neko-sama.fr"+s)).text(),r=/var episodes = (.+)\;/gm.exec(n);let t=[],a="",m="";r&&(t=JSON.parse(r[1]).map(e=>({episode:w(e.episode.toString()),time:e.time,title:e.title,url:e.url,url_image:e.url_image})));const p=(c=/(<div class="synopsis">\n<p>\n)(.*)/gm.exec(n))==null?void 0:c[2];p&&(a=p);const i=(o=/(<div id="head" style="background-image: url\()(.*)(\);)/gm.exec(n))==null?void 0:o[2];return i&&(m=i),{synopsis:x(a.replace("<br/>",`
`).replace("<br />",`
`).replace("<br>",`
`)),episodes:t,coverURL:m}}export{v as a,b as g};
