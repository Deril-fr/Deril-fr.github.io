import{c as w,g as b}from"./animehelper-da611cd9.js";import{a as x}from"./timer-a538d2fe.js";import{b as y,a as N}from"./index-264ca9b3.js";import{r as k,o,c as n,b as t,a as m,w as E,t as c,d as z,f as V,n as C,u as v,F as R,q as j,i as D}from"./vendor-f41e0a6d.js";import{a as S}from"./storage-52a318d9.js";import"./removeDuplicates-4a376775.js";const A={props:{anime:Object,animeReal:Object,asNew:Boolean},methods:{convertEpisodeToNumber:w,getDuration:x}},B={key:0},L={key:0,class:"bg-green-500 p-3 ml-16 rounded absolute"},F={key:1,class:"bg-red-500 p-3 rounded absolute"},$={class:"w-full rounded object-cover aspect-[9/13]",alt:""},O={class:"mt-5 grid"},q={class:"text-lg font-bold whitespace-nowrap text-ellipsis overflow-hidden"},H={key:1},T=z('<div class="w-full animate-pulse grid gap-5"><div class="w-full rounded object-cover aspect-[9/13] bg-zinc-800"></div><div class="grid gap-2"><h1 class="bg-zinc-800 text-zinc-800">lorem ipsum sin dolores</h1><h1 class="bg-zinc-800 text-zinc-800 w-[40%]">l</h1></div></div>',1),W=[T];function G(u,l,s,r,d,e){var i,_,g;const a=k("lazy");return s.anime?(o(),n("div",B,[t("div",{class:"w-full",onClick:l[0]||(l[0]=U=>{var p,f,h;return u.$router.push("/anime/"+((p=s.anime)==null?void 0:p.lang)+"/"+((f=s.animeReal)==null?void 0:f.id)+"/episode/"+((h=s.anime)==null?void 0:h.episode.toString()))})},[s.asNew?(o(),n("p",L,"NEW Ã©pisodes dispo ! ")):m("",!0),((i=s.anime)==null?void 0:i.lang)=="vf"?(o(),n("p",F,"VF")):m("",!0),E(t("img",$,null,512),[[a,{src:(_=s.animeReal)==null?void 0:_.url_image,loading:"/default_thumbnail.png"}]]),t("div",O,[t("h5",q,c((g=s.animeReal)==null?void 0:g.title),1),t("h6",null,"Episode "+c(s.anime.episode)+" - "+c(e.getDuration(s.anime.time)),1)])])])):(o(),n("div",H,W))}const I=y(A,[["render",G]]),J={key:0,class:"px-10"},K={class:"flex justify-between py-5"},M=t("h1",{class:"text-3xl font-bold"},"Acceuil",-1),P=[M],Q={class:"grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-6 gap-10"},ie=V({__name:"AnimeHistory",setup(u){let l=C();const s=S();return b().then(r=>{let d=N.all.filter(e=>s.find(a=>a.id===e.id&&a.lang===e.lang));l.value=d.map(e=>{let a=r.find(i=>i.anime_url===e.url);return{animes:e,lastEpisodes:s.find(i=>i.id===e.id),asNew:a?s.find(i=>i.id===e.id).episode<w(a.episode):!1}})}),(r,d)=>v(l)?(o(),n("section",J,[t("div",K,[t("div",{onClick:d[0]||(d[0]=e=>r.$router.push("/")),class:"cursor-pointer"},P)]),t("div",Q,[(o(!0),n(R,null,j(v(l),e=>(o(),n("div",{key:e.lastEpisodes.id+e.lastEpisodes.lang},[D(I,{animeReal:e.animes,anime:e.lastEpisodes,asNew:e.asNew},null,8,["animeReal","anime","asNew"])]))),128))])])):m("",!0)}});export{ie as default};
