import{_ as g,a as u,b as h,A as _}from"./index-ac61f2b8.js";import{r as y}from"./removeDuplicates-4a376775.js";import{w as x,v as k,o as d,c as p,f as C,n as f,p as b,u as i,b as o,t as c,i as m,F as w,q as $,a as q}from"./vendor-f41e0a6d.js";const V={data(){return{query:""}},methods:{async search(){console.log("test");let a=this.query;if(await new Promise(function(e){setTimeout(function(){e(null)},500)}),a!==this.query)return;const t=(await g(()=>import("./fuse.esm-7d6937a9.js"),[])).default,r=new t(u.all,{keys:["title","title_english","title_romanji","genres","others","id"]}).search(this.query),n=y(r.map(e=>e.item));u.result=n.length>0?n:u.all}}};function D(a,t,s,r,n,e){return x((d(),p("input",{type:"text",onInput:t[0]||(t[0]=(...l)=>e.search&&e.search(...l)),"onUpdate:modelValue":t[1]||(t[1]=l=>n.query=l),placeholder:"rechercher un anime...",class:"w-full p-5 bg-zinc-800 rounded my-5 focus:outline-none"},null,544)),[[k,n.query]])}const B=h(V,[["render",D]]);function v(a,t){const s=[];for(let r=0;r<a.length;r+=t)s.push(a.slice(r,r+t));return s}const H={key:0,class:"px-10"},P={class:"flex justify-between py-5"},T=o("h1",{class:"text-3xl font-bold"},"DerniÃ¨res sorties",-1),j=[T],A=o("h1",{class:"text-3xl font-bold"},"Historique",-1),E=[A],F={class:"flex gap-5"},L={class:"grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-6 gap-10"},N={class:"flex justify-between py-5"},M=C({__name:"HomeView",setup(a){let t=f(v(u.result,30)),s=f(0);b(u,function(){t.value=v(u.result,30),console.log(u.result.filter(function(n){return n.title.includes("Hunter x Hunter")})),r(0)});function r(n){if(console.log(n),scrollTo(0,0),n==-1){s.value=t.value.length-1;return}if(n==t.value.length){s.value=0;return}s.value=n}return(n,e)=>i(t)?(d(),p("section",H,[o("div",P,[o("div",{onClick:e[0]||(e[0]=l=>n.$router.push("/latest")),class:"cursor-pointer"},j),o("div",{onClick:e[1]||(e[1]=l=>n.$router.push("/history")),class:"cursor-pointer"},E),o("div",F,[o("button",{onClick:e[2]||(e[2]=l=>r(i(s)-1))},"prev"),o("p",null,c(i(s)+1)+"/"+c(i(t).length),1),o("button",{onClick:e[3]||(e[3]=l=>r(i(s)+1))},"next")])]),m(B),o("div",L,[(d(!0),p(w,null,$(i(t).at(i(s)),l=>(d(),p("div",{key:l.id+l.lang},[m(_,{anime:l},null,8,["anime"])]))),128))]),o("div",N,[o("button",{onClick:e[4]||(e[4]=l=>r(i(s)-1))},"prev"),o("p",null,c(i(s)+1)+"/"+c(i(t).length),1),o("button",{onClick:e[5]||(e[5]=l=>r(i(s)+1))},"next")])])):q("",!0)}});export{M as default};
