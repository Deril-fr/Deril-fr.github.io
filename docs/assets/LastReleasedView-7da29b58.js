import{c as p,g as b}from"./animehelper-da611cd9.js";import{b as y,a as w}from"./index-939fc8b5.js";import{r as x,o,c as l,b as a,a as v,w as k,t as m,d as E,f as z,n as C,u as g,F as N,q as V,i as j}from"./vendor-f41e0a6d.js";function I(c){const n=Date.now()-c*1e3,e=Math.floor(n/1e3),i=Math.floor(e/60),t=Math.floor(i/60),s=Math.floor(t/24),r=Math.floor(s/30),d=Math.floor(r/12);return e<60?"Il y a moins d'une minute":i<60?`Il y a ${i} minute`:t<24?`Il y a ${t} heure`:s<30?`Il y a ${s} jour`:r<12?`Il y a ${r} mois`:`Il y a ${d} ans`}const M={props:{anime:Object,animeReal:Object},methods:{convertEpisodeToNumber:p,getTimeAgo:I}},R={key:0},$={key:0,class:"bg-red-500 p-3 rounded absolute"},T={class:"w-full rounded object-cover aspect-[9/13]",alt:""},A={class:"mt-5 grid"},D={class:"text-lg font-bold whitespace-nowrap text-ellipsis overflow-hidden"},L={key:1},S=E('<div class="w-full animate-pulse grid gap-5"><div class="w-full rounded object-cover aspect-[9/13] bg-zinc-800"></div><div class="grid gap-2"><h1 class="bg-zinc-800 text-zinc-800">lorem ipsum sin dolores</h1><h1 class="bg-zinc-800 text-zinc-800 w-[40%]">l</h1></div></div>',1),B=[S];function F(c,n,e,i,t,s){var d,u,_;const r=x("lazy");return e.anime?(o(),l("div",R,[a("div",{class:"w-full",onClick:n[0]||(n[0]=P=>{var f,h;return c.$router.push("/anime/"+((f=e.anime)==null?void 0:f.lang)+"/"+((h=e.animeReal)==null?void 0:h.id)+"/episode/"+(e.anime?s.convertEpisodeToNumber(e.anime.episode):1).toString())})},[((d=e.anime)==null?void 0:d.lang)=="vf"?(o(),l("p",$,"VF")):v("",!0),k(a("img",T,null,512),[[r,{src:(u=e.animeReal)==null?void 0:u.url_image,loading:"/default_thumbnail.png"}]]),a("div",A,[a("h5",D,m((_=e.anime)==null?void 0:_.title),1),a("h6",null,"Episode "+m(s.convertEpisodeToNumber(e.anime.episode))+" - "+m(s.getTimeAgo(e.anime.timestamp)),1)])])])):(o(),l("div",L,B))}const O=y(M,[["render",F]]),q={key:0,class:"px-10"},G={class:"flex justify-between py-5"},H=a("h1",{class:"text-3xl font-bold"},"Acceuil",-1),J=[H],K={class:"grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-6 gap-10"},X=z({__name:"LastReleasedView",setup(c){let n=C();return b().then(e=>{let i=w.all.filter(t=>e.find(s=>s.anime_url===t.url));n.value=i.map(t=>({animes:t,lastEpisodes:e.find(s=>s.anime_url===t.url)})).sort((t,s)=>s.lastEpisodes.timestamp-t.lastEpisodes.timestamp)}),(e,i)=>g(n)?(o(),l("section",q,[a("div",G,[a("div",{onClick:i[0]||(i[0]=t=>e.$router.push("/")),class:"cursor-pointer"},J)]),a("div",K,[(o(!0),l(N,null,V(g(n),t=>(o(),l("div",{key:t.animes.id+t.animes.lang},[j(O,{animeReal:t.animes,anime:t.lastEpisodes},null,8,["animeReal","anime"])]))),128))])])):v("",!0)}});export{X as default};
