import{a as y,_ as z,w as v,b as F,A as L,c as g}from"./index-f1480067.js";import{g as R}from"./animehelper-5f3d89a7.js";import{p as $,o as l,c as a,a as e,t as _,q as c,E as u,y as d,b as w,n as b,r as S,u as r,F as k,G as V,H as E,I as h,w as N,J as B,K as m,L as H,M as j,N as M}from"./vendor-4224693f.js";const O={name:"FavoriteAnime",data(){return{favoriteAnime:void 0}},methods:{async getFavoriteAnime(){let o=y.vf.sort((n,p)=>parseFloat(p.score)-parseFloat(n.score))[0],s=await R(o.url);this.favoriteAnime={anime:o,details:s}}},mounted(){this.getFavoriteAnime()}},P={key:0,class:"h-[80vh] relative"},D={class:"absolute top-0 left-0 w-[50%] z-20 p-20 h-full flex items-center"},I={class:"grid gap-10"},T={class:"font-bold text-3xl"},U={class:"text-lg font-semibold text-green-500"},G={class:"w-full flex gap-5"},q=e("div",{class:"bg-gradient-to-r from-zinc-900 h-full w-full absolute z-10"},null,-1),J=["src"];function K(o,s,n,p,i,t){const f=$("router-link");return i.favoriteAnime?(l(),a("section",P,[e("div",D,[e("div",I,[e("div",null,[e("h1",T,_(i.favoriteAnime.anime.title),1),e("p",U,"Aimé à "+_(parseFloat(i.favoriteAnime.anime.score)*20)+" %",1)]),e("p",null,_(i.favoriteAnime.details.synopsis),1),e("div",G,[c(f,{class:"rounded w-full p-5 text-center bg-white text-zinc-900 font-bold text-lg",to:"/anime/vf/"+i.favoriteAnime.anime.id},{default:u(()=>[d("VF")]),_:1},8,["to"]),c(f,{class:"rounded w-full p-5 text-center bg-white font-bold text-lg bg-opacity-30",to:"/anime/vostfr/"+i.favoriteAnime.anime.id},{default:u(()=>[d("VOSTFR")]),_:1},8,["to"])])])]),q,e("img",{src:i.favoriteAnime.details.coverURL,class:"object-cover h-full w-full absolute opacity-50",alt:""},null,8,J)])):w("",!0)}const x=z(O,[["render",K]]),W={class:"px-20 mt-10"},Y={class:"flex justify-between w-full"},Q={class:"text-xl uppercase"},X={class:"font-bold"},Z={class:"grid md:grid-cols-4 xl:grid-cols-8 gap-5 mt-5",id:"resumeHomePage"},ee=["onMouseenter","onClick"],te={class:"w-fit relative"},se={key:0,src:F,class:"w-5 absolute top-3 left-3",alt:""},oe={class:"w-full rounded-t-lg object-cover aspect-[9/13]",alt:""},ne={class:"absolute w-full bg-zinc-800 h-1.5 bottom-0"},le={class:"mt-5 grid"},ie={class:"flex gap-2 text-lg font-bold whitespace-nowrap text-ellipsis overflow-hidden"},re={name:"ResumeHP",data(){return{watchList:v.slice(0,8).map(o=>({anime:this.getAnime(o),details:o})),hovered:void 0}},methods:{getAnime(o){return y[o.lang].find(s=>s.id==o.id)},test(o,s){if(!o||!s)return this.hovered=void 0;this.hovered=o+s}},components:{AnimeCardComponent:L}},A=b({...re,setup(o){return(s,n)=>{const p=$("router-link"),i=S("lazy");return l(),a("section",W,[e("p",Y,[e("h2",Q,[d("Continuer de regarder "),e("span",X,_(r(v).length)+" animes",1)]),r(v).length>8?(l(),k(p,{key:0,to:"/history",class:"uppercase"},{default:u(()=>[d("Tout voir")]),_:1})):w("",!0)]),e("div",Z,[(l(!0),a(V,null,E(s.watchList,t=>(l(),a("div",{class:h(["transition delay-100",s.hovered?t.anime.id+t.anime.lang==s.hovered?"opacity-100":"opacity-50":"opacity-100"]),key:t.anime.id,onMouseenter:f=>s.test(t.anime.id,t.anime.lang),onMouseleave:n[0]||(n[0]=f=>s.test(void 0,void 0)),onClick:f=>s.$router.push("/anime/"+(t==null?void 0:t.anime.lang)+"/"+(t==null?void 0:t.anime.id)+"/episode/"+t.details.episode)},[e("div",te,[t.details.lang=="vf"?(l(),a("img",se)):w("",!0),N(e("img",oe,null,512),[[i,{src:t==null?void 0:t.anime.url_image,loading:"/default_thumbnail.png"}]]),e("div",ne,[e("div",{style:B([{transition:"all 1s"},"width: "+(s.hovered&&t.anime.id+t.anime.lang==s.hovered?`${t.details.time/t.details.duration*100}%`:"0%")]),class:"bg-rose-500 h-1.5"},null,4)])]),e("div",le,[e("h5",ie,_(t==null?void 0:t.anime.title),1),e("h6",null,"Episode "+_(t.details.episode),1)])],42,ee))),128))])])}}}),ae={class:"flex justify-between items-center"},ce={class:"flex gap-10 w-full"},de={class:"flex gap-5"},ue=e("span",{class:"material-symbols-outlined"},"search",-1),_e={class:"font-normal"},pe={data(){return{darken:!1}},methods:{handleScroll(){return window.scrollY>10?this.darken=!0:this.darken=!1},signIn(){const o=new H;j(g,o)},logOut(){M(g),location.reload()}},mounted(){window.addEventListener("scroll",this.handleScroll)},unmounted(){window.removeEventListener("scroll",this.handleScroll)}},C=b({...pe,__name:"NavBarComponent",setup(o){return(s,n)=>(l(),a("nav",{class:h(["fixed z-50 px-20 py-10 uppercase w-full transition",s.darken?"bg-zinc-900":""])},[e("ul",ae,[e("li",null,[e("ul",ce,[c(r(m),{to:"/",class:h(s.$router.currentRoute.value.path=="/"?"font-bold":"")},{default:u(()=>[d("Accueil")]),_:1},8,["class"]),c(r(m),{to:"/search/vf",class:h(s.$router.currentRoute.value.path=="/search/vf"?"font-bold":"")},{default:u(()=>[d("Vf")]),_:1},8,["class"]),c(r(m),{to:"/search/vostfr",class:h(s.$router.currentRoute.value.path=="/search/vostfr"?"font-bold":"")},{default:u(()=>[d("Vostfr")]),_:1},8,["class"])])]),e("li",null,[e("ul",de,[e("li",null,[c(r(m),{to:"/search"},{default:u(()=>[ue]),_:1})]),e("li",null,[r(g).currentUser?(l(),a("button",{key:1,class:"font-semibold uppercase",onClick:n[1]||(n[1]=p=>s.logOut())},[d(" déconnexion "),e("span",_e,"de "+_(r(g).currentUser.displayName),1)])):(l(),a("button",{key:0,class:"font-semibold uppercase",onClick:n[0]||(n[0]=p=>s.signIn())},"connexion"))])])])])],2))}}),fe={class:"pb-20"},he={components:{FavoriteAnimeComponent:x,ResumeHomePageComponent:A,NavBarComponent:C}},we=b({...he,__name:"HomeView",setup(o){return(s,n)=>(l(),a("section",fe,[c(C),c(x),r(v).length>0?(l(),k(A,{key:0})):w("",!0)]))}});export{we as default};
