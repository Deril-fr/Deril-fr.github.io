import{_ as v,a,b as _,A as h}from"./index-939fc8b5.js";import{w as y,v as x,o as d,c as f,f as k,n as p,p as w,u as i,b as r,t as c,i as m,F as C,q as b,a as q}from"./vendor-f41e0a6d.js";function $(u){return u.filter((e,t)=>u.indexOf(e)===t)}const V={data(){return{query:""}},methods:{async search(){console.log("test");let u=this.query;if(await new Promise(function(n){setTimeout(function(){n(null)},500)}),u!==this.query)return;const e=(await v(()=>import("./fuse.esm-7d6937a9.js"),[])).default,o=new e(a.all,{keys:["title","title_english","title_romanji","genres","others","id"]}).search(this.query),s=$(o.map(n=>n.item));a.result=s.length>0?s:a.all}}};function D(u,e,t,o,s,n){return y((d(),f("input",{type:"text",onInput:e[0]||(e[0]=(...l)=>n.search&&n.search(...l)),"onUpdate:modelValue":e[1]||(e[1]=l=>s.query=l),placeholder:"rechercher un anime...",class:"w-full p-5 bg-zinc-800 rounded my-5 focus:outline-none"},null,544)),[[x,s.query]])}const B=_(V,[["render",D]]);function g(u,e){const t=[];for(let o=0;o<u.length;o+=e)t.push(u.slice(o,o+e));return t}const P={key:0,class:"px-10"},T={class:"flex justify-between py-5"},j=r("h1",{class:"text-3xl font-bold"},"DerniÃ¨res sorties",-1),A=[j],E={class:"flex gap-5"},F={class:"grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-6 gap-10"},H={class:"flex justify-between py-5"},I=k({__name:"HomeView",setup(u){let e=p(g(a.result,30)),t=p(0);w(a,function(){e.value=g(a.result,30),console.log(a.result.filter(function(s){return s.title.includes("Hunter x Hunter")})),o(0)});function o(s){if(console.log(s),scrollTo(0,0),s==-1){t.value=e.value.length-1;return}if(s==e.value.length){t.value=0;return}t.value=s}return(s,n)=>i(e)?(d(),f("section",P,[r("div",T,[r("div",{onClick:n[0]||(n[0]=l=>s.$router.push("/latest")),class:"cursor-pointer"},A),r("div",E,[r("button",{onClick:n[1]||(n[1]=l=>o(i(t)-1))},"prev"),r("p",null,c(i(t)+1)+"/"+c(i(e).length),1),r("button",{onClick:n[2]||(n[2]=l=>o(i(t)+1))},"next")])]),m(B),r("div",F,[(d(!0),f(C,null,b(i(e).at(i(t)),l=>(d(),f("div",{key:l.id+l.lang},[m(h,{anime:l},null,8,["anime"])]))),128))]),r("div",H,[r("button",{onClick:n[3]||(n[3]=l=>o(i(t)-1))},"prev"),r("p",null,c(i(t)+1)+"/"+c(i(e).length),1),r("button",{onClick:n[4]||(n[4]=l=>o(i(t)+1))},"next")])])):q("",!0)}});export{I as default};
