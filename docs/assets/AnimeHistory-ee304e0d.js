import{c as b,g as x}from"./animehelper-da611cd9.js";import{a as y}from"./timer-a538d2fe.js";import{b as k,a as N,w as c}from"./index-2a4fd7d1.js";import{r as E,o as t,c as i,b as a,a as v,w as z,t as r,d as V,n as j,G as C,u as w,H as R,I as S,v as $}from"./vendor-a75e149b.js";const D={props:{anime:Object,animeReal:Object,asNew:Boolean},methods:{convertEpisodeToNumber:b,getDuration:y}},A={key:0},B={key:0,class:"bg-green-500 p-3 ml-16 rounded absolute"},L={key:1,class:"bg-red-500 p-3 rounded absolute"},F={class:"w-full rounded object-cover aspect-[9/13]",alt:""},H={class:"mt-5 grid"},O={class:"text-lg font-bold whitespace-nowrap text-ellipsis overflow-hidden"},q={key:1},G=V('<div class="w-full animate-pulse grid gap-5"><div class="w-full rounded object-cover aspect-[9/13] bg-zinc-800"></div><div class="grid gap-2"><h1 class="bg-zinc-800 text-zinc-800">lorem ipsum sin dolores</h1><h1 class="bg-zinc-800 text-zinc-800 w-[40%]">l</h1></div></div>',1),I=[G];function T(u,l,s,d,e,o){var m,_,h;const n=E("lazy");return s.anime?(t(),i("div",A,[a("div",{class:"w-full",onClick:l[0]||(l[0]=Z=>{var g,f,p;return u.$router.push("/anime/"+((g=s.anime)==null?void 0:g.lang)+"/"+((f=s.animeReal)==null?void 0:f.id)+"/episode/"+((p=s.anime)==null?void 0:p.episode.toString()))})},[s.asNew?(t(),i("p",B,"NEW Ã©pisodes dispo ! ")):v("",!0),((m=s.anime)==null?void 0:m.lang)=="vf"?(t(),i("p",L,"VF")):v("",!0),z(a("img",F,null,512),[[n,{src:(_=s.animeReal)==null?void 0:_.url_image,loading:"/default_thumbnail.png"}]]),a("div",H,[a("h5",O,r((h=s.animeReal)==null?void 0:h.title),1),a("h6",null,"Episode "+r(s.anime.episode)+" - "+r(o.getDuration(s.anime.time)),1)])])])):(t(),i("div",q,I))}const W=k(D,[["render",T]]),J={class:"px-10"},K={class:"flex justify-between py-5"},M=a("h1",{class:"text-3xl font-bold"},"Accueil",-1),P=[M],Q={key:0,class:"grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-6 gap-10"},U={key:1,class:"flex justify-center items-center h-[80vh]"},X=a("h1",{class:"text-3xl font-bold"},"Aucun anime dans l'historique",-1),Y=[X],ae=j({__name:"AnimeHistory",setup(u){let l=C();return x().then(s=>{let d=N.all.filter(e=>c.find(o=>o.id===e.id&&o.lang===e.lang));l.value=d.map(e=>{let o=s.find(n=>n.anime_url===e.url);return{animes:e,lastEpisodes:c.find(n=>n.id===e.id),asNew:o?c.find(n=>n.id===e.id).episode<b(o.episode):!1}})}),(s,d)=>(t(),i("section",J,[a("div",K,[a("div",{onClick:d[0]||(d[0]=e=>s.$router.push("/")),class:"cursor-pointer"},P)]),w(l)?(t(),i("div",Q,[(t(!0),i(R,null,S(w(l),e=>(t(),i("div",{key:e.lastEpisodes.id+e.lastEpisodes.lang},[$(W,{animeReal:e.animes,anime:e.lastEpisodes,asNew:e.asNew},null,8,["animeReal","anime","asNew"])]))),128))])):(t(),i("div",U,Y))]))}});export{ae as default};
