import{_ as y,a as c,r as x,b as k,c as g,A as w}from"./index-b127e86e.js";import{w as C,D as b,o as f,c as p,j as q,E as h,F as $,u as i,b as n,m as _,G as D,H as V,t as m,a as H,I as L,J as P,K as j}from"./vendor-af1ca578.js";const A={data(){return{query:""}},methods:{async search(){console.log("test");let d=this.query;if(await new Promise(function(r){setTimeout(function(){r(null)},500)}),d!==this.query)return;const e=(await y(()=>import("./fuse.esm-7d6937a9.js"),[])).default,o=new e(c.all,{keys:["title","title_english","title_romanji","genres","others","id"]}).search(this.query),u=x(o.map(r=>r.item));c.result=u.length>0?u:c.all}}};function B(d,e,s,o,u,r){return C((f(),p("input",{type:"text",onInput:e[0]||(e[0]=(...t)=>r.search&&r.search(...t)),"onUpdate:modelValue":e[1]||(e[1]=t=>u.query=t),placeholder:"rechercher un anime...",class:"w-full p-5 bg-zinc-800 rounded my-5 focus:outline-none"},null,544)),[[b,u.query]])}const E=k(A,[["render",B]]);function v(d,e){const s=[];for(let o=0;o<d.length;o+=e)s.push(d.slice(o,o+e));return s}const I={key:0,class:"px-10"},T={class:"flex justify-between py-5"},F=n("h1",{class:"text-3xl font-bold"},"DerniÃ¨res sorties",-1),N=[F],R=n("h1",{class:"text-3xl font-bold"},"Historique",-1),G=[R],O={key:0,class:"flex gap-5"},S={key:1,class:"flex gap-5"},U={class:"grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-6 gap-10"},J={class:"flex justify-between py-5"},Q=q({__name:"HomeView",setup(d){let e=h(v(c.result,30)),s=h(0);$(c,function(){e.value=v(c.result,30),console.log(c.result.filter(function(t){return t.title.includes("Hunter x Hunter")})),o(0)});function o(t){if(console.log(t),scrollTo(0,0),t==-1){s.value=e.value.length-1;return}if(t==e.value.length){s.value=0;return}s.value=t}async function u(){const t=new L;await P(g,t)}async function r(){await j(g)}return(t,l)=>i(e)?(f(),p("section",I,[n("div",T,[n("div",{onClick:l[0]||(l[0]=a=>t.$router.push("/latest")),class:"cursor-pointer"},N),n("div",{onClick:l[1]||(l[1]=a=>t.$router.push("/history")),class:"cursor-pointer"},G),i(g).currentUser==null?(f(),p("div",O,[n("button",{onClick:u},"Login")])):(f(),p("div",S,[n("button",{onClick:r},"Logout")]))]),_(E),n("div",U,[(f(!0),p(D,null,V(i(e).at(i(s)),a=>(f(),p("div",{key:a.id+a.lang},[_(w,{anime:a},null,8,["anime"])]))),128))]),n("div",J,[n("button",{onClick:l[2]||(l[2]=a=>o(i(s)-1))},"prev"),n("p",null,m(i(s)+1)+"/"+m(i(e).length),1),n("button",{onClick:l[3]||(l[3]=a=>o(i(s)+1))},"next")])])):H("",!0)}});export{Q as default};
