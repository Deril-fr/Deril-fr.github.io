import{_ as y,a as c,r as x,b as k,c as h,A as w}from"./index-e315f7a1.js";import{w as C,x as b,o as f,c as p,h as q,y as g,z as $,u as i,b as n,l as _,F as D,B as V,t as m,a as B,G as L,C as P,D as A}from"./vendor-3522fdaf.js";const H={data(){return{query:""}},methods:{async search(){console.log("test");let d=this.query;if(await new Promise(function(r){setTimeout(function(){r(null)},500)}),d!==this.query)return;const e=(await y(()=>import("./fuse.esm-7d6937a9.js"),[])).default,o=new e(c.all,{keys:["title","title_english","title_romanji","genres","others","id"]}).search(this.query),u=x(o.map(r=>r.item));c.result=u.length>0?u:c.all}}};function T(d,e,s,o,u,r){return C((f(),p("input",{type:"text",onInput:e[0]||(e[0]=(...t)=>r.search&&r.search(...t)),"onUpdate:modelValue":e[1]||(e[1]=t=>u.query=t),placeholder:"rechercher un anime...",class:"w-full p-5 bg-zinc-800 rounded my-5 focus:outline-none"},null,544)),[[b,u.query]])}const j=k(H,[["render",T]]);function v(d,e){const s=[];for(let o=0;o<d.length;o+=e)s.push(d.slice(o,o+e));return s}const E={key:0,class:"px-10"},F={class:"flex justify-between py-5"},I=n("h1",{class:"text-3xl font-bold"},"DerniÃ¨res sorties",-1),N=[I],R=n("h1",{class:"text-3xl font-bold"},"Historique",-1),G=[R],O={key:0,class:"flex gap-5"},S={key:1,class:"flex gap-5"},U={class:"grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-6 gap-10"},z={class:"flex justify-between py-5"},W=q({__name:"HomeView",setup(d){let e=g(v(c.result,30)),s=g(0);$(c,function(){e.value=v(c.result,30),console.log(c.result.filter(function(t){return t.title.includes("Hunter x Hunter")})),o(0)});function o(t){if(console.log(t),scrollTo(0,0),t==-1){s.value=e.value.length-1;return}if(t==e.value.length){s.value=0;return}s.value=t}async function u(){const t=new L;await P(h,t)}async function r(){await A(h)}return(t,l)=>i(e)?(f(),p("section",E,[n("div",F,[n("div",{onClick:l[0]||(l[0]=a=>t.$router.push("/latest")),class:"cursor-pointer"},N),n("div",{onClick:l[1]||(l[1]=a=>t.$router.push("/history")),class:"cursor-pointer"},G),i(h).currentUser==null?(f(),p("div",O,[n("button",{onClick:u},"Login")])):(f(),p("div",S,[n("button",{onClick:r},"Logout")]))]),_(j),n("div",U,[(f(!0),p(D,null,V(i(e).at(i(s)),a=>(f(),p("div",{key:a.id+a.lang},[_(w,{anime:a},null,8,["anime"])]))),128))]),n("div",z,[n("button",{onClick:l[2]||(l[2]=a=>o(i(s)-1))},"prev"),n("p",null,m(i(s)+1)+"/"+m(i(e).length),1),n("button",{onClick:l[3]||(l[3]=a=>o(i(s)+1))},"next")])])):B("",!0)}});export{W as default};
