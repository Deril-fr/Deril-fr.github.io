import{c as f,a as b}from"./animehelper-5f3d89a7.js";import{g as w}from"./timer-a538d2fe.js";import{_ as x,a as k}from"./index-e67d8c17.js";import{r as y,o as n,c as l,a as t,b as p,w as C,t as r,N as E,n as N,O as z,u as h,F as V,G as R,q as j}from"./vendor-1e31e0d3.js";const T={props:{anime:Object,animeReal:Object},methods:{convertEpisodeToNumber:f,getTimeAgo:w}},$={key:0},L={key:0,class:"bg-red-500 p-3 rounded absolute"},S={class:"w-full rounded object-cover aspect-[9/13]",alt:""},A={class:"mt-5 grid"},B={class:"text-lg font-bold whitespace-nowrap text-ellipsis overflow-hidden"},D={key:1},F=E('<div class="w-full animate-pulse grid gap-5"><div class="w-full rounded object-cover aspect-[9/13] bg-zinc-800"></div><div class="grid gap-2"><h1 class="bg-zinc-800 text-zinc-800">lorem ipsum sin dolores</h1><h1 class="bg-zinc-800 text-zinc-800 w-[40%]">l</h1></div></div>',1),O=[F];function q(d,o,e,a,s,i){var c,m,u;const v=y("lazy");return e.anime?(n(),l("div",$,[t("div",{class:"w-full",onClick:o[0]||(o[0]=U=>{var _,g;return d.$router.push("/anime/"+((_=e.anime)==null?void 0:_.lang)+"/"+((g=e.animeReal)==null?void 0:g.id)+"/episode/"+(e.anime?i.convertEpisodeToNumber(e.anime.episode):1).toString())})},[((c=e.anime)==null?void 0:c.lang)=="vf"?(n(),l("p",L,"VF")):p("",!0),C(t("img",S,null,512),[[v,{src:(m=e.animeReal)==null?void 0:m.url_image,loading:"/default_thumbnail.png"}]]),t("div",A,[t("h5",B,r((u=e.anime)==null?void 0:u.title),1),t("h6",null,"Episode "+r(i.convertEpisodeToNumber(e.anime.episode))+" - "+r(i.getTimeAgo(e.anime.timestamp)),1)])])])):(n(),l("div",D,O))}const G=x(T,[["render",q]]),H={key:0,class:"px-10"},I={class:"flex justify-between py-5"},J=t("h1",{class:"text-3xl font-bold"},"Acceuil",-1),K=[J],M=t("h1",{class:"text-3xl font-bold"},"Historique",-1),P=[M],Q={class:"grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-6 gap-10"},ee=N({__name:"LastReleasedView",setup(d){let o=z();return b().then(e=>{let a=k.all.filter(s=>e.find(i=>i.anime_url===s.url));o.value=a.map(s=>({animes:s,lastEpisodes:e.find(i=>i.anime_url===s.url)})).sort((s,i)=>i.lastEpisodes.timestamp-s.lastEpisodes.timestamp)}),(e,a)=>h(o)?(n(),l("section",H,[t("div",I,[t("div",{onClick:a[0]||(a[0]=s=>e.$router.push("/")),class:"cursor-pointer"},K),t("div",{onClick:a[1]||(a[1]=s=>e.$router.push("/history")),class:"cursor-pointer"},P)]),t("div",Q,[(n(!0),l(V,null,R(h(o),s=>(n(),l("div",{key:s.animes.id+s.animes.lang},[j(G,{animeReal:s.animes,anime:s.lastEpisodes},null,8,["animeReal","anime"])]))),128))])])):p("",!0)}});export{ee as default};
