import{_ as y,a as d,b as x,A as k,c as g}from"./index-119d7048.js";import{w,E as C,o as f,c as p,j as b,F as h,v as q,u,b as n,m as _,G as $,H as V,t as m,a as D,I as H,J as L,K as P}from"./vendor-b2912eeb.js";function j(r){return r.filter((e,s)=>r.indexOf(e)===s)}const A={data(){return{query:""}},methods:{async search(){console.log("test");let r=this.query;if(await new Promise(function(l){setTimeout(function(){l(null)},500)}),r!==this.query)return;const e=(await y(()=>import("./fuse.esm-7d6937a9.js"),[])).default,o=new e(d.all,{keys:["title","title_english","title_romanji","genres","others","id"]}).search(this.query),a=j(o.map(l=>l.item));d.result=a.length>0?a:d.all}}};function B(r,e,s,o,a,l){return w((f(),p("input",{type:"text",onInput:e[0]||(e[0]=(...t)=>l.search&&l.search(...t)),"onUpdate:modelValue":e[1]||(e[1]=t=>a.query=t),placeholder:"rechercher un anime...",class:"w-full p-5 bg-zinc-800 rounded my-5 focus:outline-none"},null,544)),[[C,a.query]])}const E=x(A,[["render",B]]);function v(r,e){const s=[];for(let o=0;o<r.length;o+=e)s.push(r.slice(o,o+e));return s}const I={key:0,class:"px-10"},T={class:"flex justify-between py-5"},F=n("h1",{class:"text-3xl font-bold"},"DerniÃ¨res sorties",-1),N=[F],O=n("h1",{class:"text-3xl font-bold"},"Historique",-1),R=[O],G={key:0,class:"flex gap-5"},S={key:1,class:"flex gap-5"},U={class:"grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-6 gap-10"},J={class:"flex justify-between py-5"},Q=b({__name:"HomeView",setup(r){let e=h(v(d.result,30)),s=h(0);q(d,function(){e.value=v(d.result,30),console.log(d.result.filter(function(t){return t.title.includes("Hunter x Hunter")})),o(0)});function o(t){if(console.log(t),scrollTo(0,0),t==-1){s.value=e.value.length-1;return}if(t==e.value.length){s.value=0;return}s.value=t}async function a(){const t=new H;await L(g,t)}async function l(){await P(g)}return(t,i)=>u(e)?(f(),p("section",I,[n("div",T,[n("div",{onClick:i[0]||(i[0]=c=>t.$router.push("/latest")),class:"cursor-pointer"},N),n("div",{onClick:i[1]||(i[1]=c=>t.$router.push("/history")),class:"cursor-pointer"},R),u(g).currentUser==null?(f(),p("div",G,[n("button",{onClick:a},"Login")])):(f(),p("div",S,[n("button",{onClick:l},"Logout")]))]),_(E),n("div",U,[(f(!0),p($,null,V(u(e).at(u(s)),c=>(f(),p("div",{key:c.id+c.lang},[_(k,{anime:c},null,8,["anime"])]))),128))]),n("div",J,[n("button",{onClick:i[2]||(i[2]=c=>o(u(s)-1))},"prev"),n("p",null,m(u(s)+1)+"/"+m(u(e).length),1),n("button",{onClick:i[3]||(i[3]=c=>o(u(s)+1))},"next")])])):D("",!0)}});export{Q as default};
