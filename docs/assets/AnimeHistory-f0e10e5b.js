import{c as y,a as N}from"./animehelper-5f3d89a7.js";import{a as k}from"./timer-a538d2fe.js";import{_ as E,a as z,w as c}from"./index-65cca1a3.js";import{r as V,o as t,c as i,a,b as v,w as R,t as r,N as S,n as j,O as C,q as w,u as b,F as x,G as D}from"./vendor-1e31e0d3.js";import{_ as B}from"./NavBarComponent.vue_vue_type_script_setup_true_lang-6ea7cb37.js";const $={props:{anime:Object,animeReal:Object,asNew:Boolean},methods:{convertEpisodeToNumber:y,getDuration:k}},A={key:0},F={key:0,class:"bg-green-500 p-3 ml-16 rounded absolute"},L={key:1,class:"bg-red-500 p-3 rounded absolute"},O={class:"w-full rounded object-cover aspect-[9/13]",alt:""},q={class:"mt-5 grid"},G={class:"text-lg font-bold whitespace-nowrap text-ellipsis overflow-hidden"},H={key:1},T=S('<div class="w-full animate-pulse grid gap-5"><div class="w-full rounded object-cover aspect-[9/13] bg-zinc-800"></div><div class="grid gap-2"><h1 class="bg-zinc-800 text-zinc-800">lorem ipsum sin dolores</h1><h1 class="bg-zinc-800 text-zinc-800 w-[40%]">l</h1></div></div>',1),W=[T];function I(_,l,s,d,e,n){var m,u,h;const o=V("lazy");return s.anime?(t(),i("div",A,[a("div",{class:"w-full",onClick:l[0]||(l[0]=Z=>{var g,f,p;return _.$router.push("/anime/"+((g=s.anime)==null?void 0:g.lang)+"/"+((f=s.animeReal)==null?void 0:f.id)+"/episode/"+((p=s.anime)==null?void 0:p.episode.toString()))})},[s.asNew?(t(),i("p",F,"NEW Ã©pisodes dispo ! ")):v("",!0),((m=s.anime)==null?void 0:m.lang)=="vf"?(t(),i("p",L,"VF")):v("",!0),R(a("img",O,null,512),[[o,{src:(u=s.animeReal)==null?void 0:u.url_image,loading:"/default_thumbnail.png"}]]),a("div",q,[a("h5",G,r((h=s.animeReal)==null?void 0:h.title),1),a("h6",null,"Episode "+r(s.anime.episode)+" - "+r(n.getDuration(s.anime.time)),1)])])])):(t(),i("div",H,W))}const J=E($,[["render",I]]),K=a("br",null,null,-1),M=a("br",null,null,-1),P={class:"px-20 py-10"},Q={key:0,class:"grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-6 gap-10"},U={key:1,class:"flex justify-center items-center h-[80vh]"},X=a("h1",{class:"text-3xl font-bold"},"Aucun anime dans l'historique",-1),Y=[X],ne=j({__name:"AnimeHistory",setup(_){let l=C();return N().then(s=>{let d=z.all.filter(e=>c.find(n=>n.id===e.id&&n.lang===e.lang));l.value=d.map(e=>{let n=s.find(o=>o.anime_url===e.url);return{animes:e,lastEpisodes:c.find(o=>o.id===e.id),asNew:n?c.find(o=>o.id===e.id).episode<y(n.episode):!1}})}),(s,d)=>(t(),i(x,null,[w(B),K,M,a("section",P,[b(l)?(t(),i("div",Q,[(t(!0),i(x,null,D(b(l),e=>(t(),i("div",{key:e.lastEpisodes.id+e.lastEpisodes.lang},[w(J,{animeReal:e.animes,anime:e.lastEpisodes,asNew:e.asNew},null,8,["animeReal","anime","asNew"])]))),128))])):(t(),i("div",U,Y))])],64))}});export{ne as default};
